basePath: /api
definitions:
  gorm.DeletedAt:
    properties:
      time:
        type: string
      valid:
        description: Valid is true if Time is not NULL
        type: boolean
    type: object
  models.PointConfig:
    properties:
      createdAt:
        type: string
      deletedAt:
        $ref: '#/definitions/gorm.DeletedAt'
      description:
        description: 积分描述
        type: string
      fileUrl:
        description: 文件路径
        type: string
      id:
        type: integer
      points:
        description: 积分值
        type: integer
      updatedAt:
        type: string
    type: object
info:
  contact: {}
  description: 提供用户积分管理、积分配置和积分日志查询等功能
  title: 积分管理系统API
  version: "1.0"
paths:
  /adminGrantPoints:
    post:
      consumes:
      - application/json
      description: |-
        管理员给用户增加或减少积分
        获取当前登录用户的信息和积分
      parameters:
      - description: 积分操作信息
        in: body
        name: data
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取用户信息
      tags:
      - 用户管理
      - 用户管理
  /configurePoints:
    post:
      consumes:
      - application/json
      description: 为文件设置积分值
      parameters:
      - description: 积分配置信息
        in: body
        name: config
        required: true
        schema:
          $ref: '#/definitions/models.PointConfig'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 配置文件积分
      tags:
      - 积分配置
  /downloadFile:
    post:
      consumes:
      - application/json
      description: 扣除用户积分并返回文件下载地址
      parameters:
      - description: 文件信息
        in: body
        name: data
        required: true
        schema:
          additionalProperties:
            type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 下载文件
      tags:
      - 文件下载
  /getFileInfo:
    get:
      description: 获取文件名称和所需积分
      parameters:
      - description: 文件URL
        in: query
        name: fileUrl
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取文件信息
      tags:
      - 文件下载
  /getPointsList:
    get:
      description: 获取所有文件的积分配置
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取积分配置列表
      tags:
      - 积分配置
  /getPointsLog:
    get:
      description: 获取用户积分变更历史记录
      parameters:
      - description: 用户名（可选）
        in: query
        name: username
        type: string
      - description: 返回记录数量限制（默认50）
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取积分变更日志
      tags:
      - 积分日志
  /getUserInfo:
    get:
      consumes:
      - application/json
      description: |-
        管理员给用户增加或减少积分
        获取当前登录用户的信息和积分
      parameters:
      - description: 积分操作信息
        in: body
        name: data
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取用户信息
      tags:
      - 用户管理
      - 用户管理
  /getUserPoints:
    get:
      description: 获取指定用户的积分信息
      parameters:
      - description: 用户名
        in: query
        name: username
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取用户积分
      tags:
      - 用户积分
  /getUsersList:
    get:
      description: 获取所有用户及其积分信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 获取用户列表
      tags:
      - 用户管理
swagger: "2.0"
